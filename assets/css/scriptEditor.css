/**
 * AJS Develop - Script Editor
 * Code editing workspace
 */

/* ==================== SCRIPT EDITOR LAYOUT ==================== */

#scriptEditor {
    display: flex;
    flex-direction: column;
    background-color: var(--primary-800);
    width: 100%;
    height: 100%;
}

/* ==================== CODE EDITOR CONTAINERS ==================== */

.codes {
    width: 100%;
    flex: 1;
    display: none;
    min-height: 0; /* Important for flexbox child */
}

.codes[visible=true] {
    display: flex; /* Changed from block to flex */
    flex-direction: column;
}

#codeEditor {
    width: 100%;
    height: 100%;
    flex: 1;
    overflow: hidden;
    position: relative; /* Monaco needs positioned container */
}

/* ==================== EMPTY STATE ==================== */

#noFileOpened {
    display: none;
    width: 100%;
    height: 100%;
    align-items: center;
    justify-content: center;
    color: var(--text-tertiary);
    flex-direction: column;
    gap: var(--space-4);
    text-align: center;
    padding: var(--space-12);
}

#noFileOpened[visible=true] {
    display: flex;
}

#noFileOpened i {
    font-size: 64px;
    color: var(--text-disabled);
    opacity: 0.4;
    margin-bottom: var(--space-4);
}

#noFileOpened p {
    font-size: var(--text-md);
    color: var(--text-secondary);
}

/* ==================== CODE EDITOR TABS ==================== */

#codeEditorTabs {
    border-bottom: 1px solid var(--border-subtle);
    height: var(--tab-bar-height);
    min-height: var(--tab-bar-height);
    max-height: var(--tab-bar-height);
    overflow-x: auto;
    overflow-y: hidden !important;
    white-space: nowrap;
    display: none;
    background: var(--primary-700);
    flex-shrink: 0; /* Don't shrink tabs */
}

#codeEditorTabs[visible=true] {
    display: block;
}

#codeEditorTabs::-webkit-scrollbar {
    height: 3px;
}

#codeEditorTabs::-webkit-scrollbar-track {
    background: transparent;
}

#codeEditorTabs::-webkit-scrollbar-thumb {
    background: var(--primary-500);
    border-radius: var(--radius-sm);
}

#codeEditorTabs::-webkit-scrollbar-thumb:hover {
    background: var(--primary-450);
}

/* ==================== EDITOR TABS ==================== */

.codeEditorTab {
    height: 36px;
    border-right: 1px solid var(--border-subtle);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 var(--space-4);
    cursor: pointer;
    transition: all var(--transition-normal);
    background-color: var(--primary-750);
    color: var(--text-tertiary);
    gap: var(--space-2);
}

.codeEditorTab:hover {
    background-color: var(--bg-hover);
    color: var(--text-primary);
}

.codeEditorTab[selected=true] {
    border-top: 2px solid var(--secondary);
    height: 37px;
    background-color: var(--primary-800);
    color: var(--text-primary);
}

.codeEditorTab .body {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.codeEditorTab .body .icon {
    width: var(--icon-sm);
    height: var(--icon-sm);
}

.codeEditorTab .body .title {
    color: inherit;
    font-size: var(--text-sm);
}

.codeEditorTab .body .save {
    color: var(--warning-500);
    font-size: var(--text-2xs);
}

.codeEditorTab .body .close {
    color: var(--text-tertiary);
    font-size: var(--icon-lg);
    margin-left: var(--space-2);
    transition: color var(--transition-fast);
}

.codeEditorTab .body .close:hover {
    color: var(--error);
}

.codeEditorTab[selected=true] .body * {
    color: var(--text-primary);
}

.codeEditorTab[selected=true] .body .close:hover {
    color: var(--error);
}
